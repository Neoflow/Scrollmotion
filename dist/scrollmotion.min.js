/*!
* Scrollmotion v0.2.0
* Copyright 2020 Jonathan Nessier, Neoflow
* Licensed under MIT
*/
var Scrollmotion=function(){"use strict";var t=function(){function t(t,i){var e=this;this.selector=t,this.config=i,this.container=document,this.config.root&&this.config.root.nodeType===Node.ELEMENT_NODE?this.container=this.config.root:this.config.root=null,this.items=Array.from(this.container.querySelectorAll(this.selector)),this.items.forEach((function(t){e.config.prepareItem(t)})),this.intersectionObserver=this.createIntersectionObserver(),this.config.observeMutation&&(this.mutationObserver=this.createMutationObserver()),"function"==typeof this.config.initialized&&this.config.initialized(this.container,this.items)}return t.prototype.createIntersectionObserver=function(){var t=this,i=new IntersectionObserver((function(e){e.forEach((function(e){var n=e.target,o=t.config.ratio;n.dataset.smRatio&&(o=n.dataset.smRatio),e.isIntersecting&&e.intersectionRatio>=o&&(t.animate(n),i.unobserve(n))}))}),{root:this.config.root,rootMargin:this.config.rootMargin,threshold:this.config.threshold});return i},t.prototype.createMutationObserver=function(){var t=this;return new MutationObserver((function(i){i.forEach((function(i){null!==i.addedNodes&&i.addedNodes.forEach((function(i){if(i.nodeType===Node.ELEMENT_NODE){var e=i;e.matches(t.selector)&&(t.config.prepareItem(e),t.intersectionObserver.observe(e))}}))}))}))},t.prototype.animate=function(t){this.config.animateItem(t),"function"==typeof this.config.itemAnimated&&this.config.itemAnimated(t)},t.prototype.start=function(){var t=this;this.items.forEach((function(i){t.intersectionObserver.observe(i),t.config.observeMutation&&t.mutationObserver.observe(t.container,{childList:!0,subtree:!0})})),"function"==typeof this.config.started&&this.config.started()},t.prototype.stop=function(){this.intersectionObserver.disconnect(),"function"==typeof this.config.stopped&&this.config.stopped()},t}(),i={root:null,rootMargin:"0px 0px 0px 0px",threshold:[0,.25,.5,.75,1],ratio:0,observeMutation:!1,initialized:null,started:null,itemAnimated:null,stopped:null,animateClass:"animate__swing",prepareItem:function(t){t.style.visibility="hidden"},animateItem:function(t){t.style.visibility="visible",t.classList.add("animate__animated"),t.dataset.smAnimateClass?t.classList.add(t.dataset.smAnimateClass):t.classList.add(i.animateClass)}};return function(e,n){void 0===e&&(e=".sm-item");var o=i;return"object"==typeof n&&(o=Object.assign(o,n)),new t(e,o)}}();
//# sourceMappingURL=scrollmotion.min.js.map
